
	* = * "Enemy Data"


.label MAX_SPEED_LOOKUP = 25
.label SPEED_STEP = 1
		

	EnemyTypeFrameStart:		.byte 52, 74, 34, 17, 122 , 17, 17, 17
	Colours:					.byte GREEN, WHITE, WHITE, YELLOW, WHITE
	ExplosionFrames:			.byte 33, 50, 51, 68
	ExplosionColours:			.byte WHITE, YELLOW, YELLOW, YELLOW, YELLOW
	
	XMoveLookup:	.byte -2, -1, 1, 2

	Mirror:			.byte 0, 0, 0, 0
					.byte 0, 0, 0, 0, 1, 1, 1, 1
					.byte 0, 0, 0, 0, 1, 1, 1, 1
					.byte 0, 0, 0, 0, 0, 1, 1, 1, 1, 1
					.byte 0, 0, 0, 0, 0, 1, 1, 1, 1, 1

	PixelSpeed:		.byte 0
	FractionSpeed:	.byte 0



PixelLookup:
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
.byte 2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0
.byte 2,2,2,1,1,1,0,0,0,0,0,0,0,0,0,0
.byte 2,2,2,2,2,1,1,1,1,0,0,0,0,0,0,0
.byte 2,2,2,2,2,2,1,1,1,1,1,1,0,0,0,0
.byte 2,2,2,2,2,2,2,1,1,1,1,1,1,1,0,0
.byte 2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1
.byte 2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1
.byte 2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1
.byte 2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1
.byte 2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1
.byte 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2
.byte 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2
.byte 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2
.byte 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2
.byte 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2


FractionLookup:
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
.byte 200,200,100,237,178,142,119,102,89,79,71,65,59,55,51,47
.byte 200,200,200,219,100,29,237,203,178,158,142,129,119,110,102,95
.byte 200,200,200,200,22,171,100,49,11,237,214,194,178,164,153,142
.byte 200,200,200,200,200,58,219,151,100,60,29,3,237,219,203,190
.byte 200,200,200,200,200,200,81,253,189,140,100,68,41,18,254,237
.byte 200,200,200,200,200,200,200,98,22,219,171,132,100,73,49,29
.byte 200,200,200,200,200,200,200,200,111,42,242,197,159,127,100,76
.byte 200,200,200,200,200,200,200,200,200,121,58,6,219,182,151,124
.byte 200,200,200,200,200,200,200,200,200,200,129,71,22,237,202,171
.byte 200,200,200,200,200,200,200,200,200,200,200,135,81,36,253,219
.byte 200,200,200,200,200,200,200,200,200,200,200,200,141,90,47,10
.byte 200,200,200,200,200,200,200,200,200,200,200,200,200,145,98,58
.byte 200,200,200,200,200,200,200,200,200,200,200,200,200,200,149,105
.byte 200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,153
.byte 200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200


MinisculeWork:
.fill 256,0



BasePixelLookup:	
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
.byte 2,2,1,0,0,0,0,0,0,0,0,0,0,0,0,0
.byte 2,2,2,1,1,0,0,0,0,0,0,0,0,0,0,0
.byte 2,2,2,2,1,1,1,0,0,0,0,0,0,0,0,0
.byte 2,2,2,2,2,1,1,1,1,0,0,0,0,0,0,0
.byte 2,2,2,2,2,2,1,1,1,1,1,0,0,0,0,0
.byte 2,2,2,2,2,2,2,1,1,1,1,1,1,0,0,0
.byte 2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,0
.byte 2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1
.byte 2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1
.byte 2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1
.byte 2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1
.byte 2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1
.byte 2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1
.byte 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1
.byte 2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2
	
	
BaseFractionLookup:	
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
.byte 0,0,0,171,128,102,85,73,64,57,51,47,43,39,37,34
.byte 0,0,0,85,0,205,171,146,128,114,102,93,85,79,73,68
.byte 0,0,0,0,128,51,0,219,192,171,154,140,128,118,110,102
.byte 0,0,0,0,0,154,85,37,0,228,205,186,171,158,146,137
.byte 0,0,0,0,0,0,171,110,64,28,0,233,213,197,183,171
.byte 0,0,0,0,0,0,0,183,128,85,51,23,0,236,219,205
.byte 0,0,0,0,0,0,0,0,192,142,102,70,43,20,0,239
.byte 0,0,0,0,0,0,0,0,0,199,154,116,85,59,37,17
.byte 0,0,0,0,0,0,0,0,0,0,205,163,128,98,73,51
.byte 0,0,0,0,0,0,0,0,0,0,0,209,171,138,110,85
.byte 0,0,0,0,0,0,0,0,0,0,0,0,213,177,146,119
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,217,183,154
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,219,188
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,222
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0




SpeedIncreaseFraction:
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
.byte 10,10,5,3,2,2,1,1,1,1,1,0,0,0,0,0
.byte 10,10,10,6,5,4,3,2,2,2,2,1,1,1,1,1
.byte 10,10,10,10,7,6,5,4,3,3,3,2,2,2,2,2
.byte 10,10,10,10,10,8,6,5,5,4,4,3,3,3,2,2
.byte 10,10,10,10,10,10,8,7,6,5,5,4,4,3,3,3
.byte 10,10,10,10,10,10,10,8,7,6,6,5,5,4,4,4
.byte 10,10,10,10,10,10,10,10,8,7,7,6,5,5,5,4
.byte 10,10,10,10,10,10,10,10,10,8,8,7,6,6,5,5
.byte 10,10,10,10,10,10,10,10,10,10,9,8,7,6,6,6
.byte 10,10,10,10,10,10,10,10,10,10,10,9,8,7,7,6
.byte 10,10,10,10,10,10,10,10,10,10,10,10,9,8,7,7
.byte 10,10,10,10,10,10,10,10,10,10,10,10,10,9,8,8
.byte 10,10,10,10,10,10,10,10,10,10,10,10,10,10,9,8
.byte 10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,9
.byte 10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10

SpeedIncreaseMiniscule:
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
.byte 0,0,0,84,128,0,172,110,64,28,0,233,212,197,182,172
.byte 0,0,0,172,0,0,84,220,128,56,0,210,172,138,110,84
.byte 0,0,0,0,128,0,0,74,192,84,0,187,128,79,36,0
.byte 0,0,0,0,0,0,172,182,0,113,0,164,84,20,220,172
.byte 0,0,0,0,0,0,84,36,64,143,0,141,44,218,146,84
.byte 0,0,0,0,0,0,0,146,128,172,0,115,0,159,74,0
.byte 0,0,0,0,0,0,0,0,192,200,0,92,212,97,0,172
.byte 0,0,0,0,0,0,0,0,0,228,0,69,172,38,182,84
.byte 0,0,0,0,0,0,0,0,0,0,0,46,128,236,110,0
.byte 0,0,0,0,0,0,0,0,0,0,0,23,84,177,36,172
.byte 0,0,0,0,0,0,0,0,0,0,0,0,44,118,220,84
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,59,146,0
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,74,172
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,84
.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0


SpeedAddLookup:	.fill MAX_SPEED_LOOKUP, SPEED_STEP * i
	
	SpeedAddAmount:		.byte 0
	CurrentAddAmount:	.byte 0
	SpeedCalcActive:	.byte 0


	CalculateAttackSpeed: {

		inc SpeedCalcActive

		ldx STAGE.CurrentPlayer	
		lda STAGE.CurrentStage, x
		cmp #MAX_SPEED_LOOKUP
		bcc Okay

		lda #MAX_SPEED_LOOKUP - 1

		Okay:

		sta SpeedAddAmount
		sta CurrentAddAmount

		jmp TransferSpeed
	
	}


	CalculateWaveSpeed: {

		inc SpeedCalcActive

		ldx STAGE.CurrentPlayer	
		lda STAGE.CurrentStage, x
		clc
		adc #15

		sta SpeedAddAmount
		sta CurrentAddAmount

		jmp TransferSpeed

	}

	SpeedFrameUpdate: {

		lda SpeedCalcActive
		beq Finish

		jmp TransferSpeed

		Finish:

		rts

	}

	TransferSpeed: {

		ldy CurrentAddAmount

		SpeedLoop:

			ldx #16

		Loop:

			cpy SpeedAddAmount
			bne AddToExisting

		Initial:

			lda #0
			clc
			adc SpeedIncreaseMiniscule, x
			sta MinisculeWork, x

			lda BaseFractionLookup, x
			clc
			adc SpeedIncreaseFraction, x
			sta FractionLookup, x

			lda BasePixelLookup, x
			adc #0
			sta PixelLookup, x

			jmp EndLoop

		AddToExisting:


			lda MinisculeWork, x
			clc
			adc SpeedIncreaseMiniscule, x
			sta MinisculeWork, x

			lda FractionLookup, x
			adc #0
			sta FractionLookup, x

			lda PixelLookup, x
			adc #0
			sta PixelLookup, x

			lda FractionLookup, x
			clc
			adc SpeedIncreaseFraction, x
			sta FractionLookup, x

			lda PixelLookup, x
			adc #0
			sta PixelLookup, x

		EndLoop:

			inx
			bne Loop



			dec CurrentAddAmount
			lda CurrentAddAmount
			bpl Okay

			lda #0
			sta SpeedCalcActive

		Okay:

			rts
	}

	TopRightLookup:

	.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	.byte 4,2,1,1,1,1,0,0,0,0,0,0,0,0,0,0
	.byte 4,3,2,1,1,1,1,1,1,1,1,0,0,0,0,0
	.byte 4,3,3,2,2,1,1,1,1,1,1,1,1,1,1,1
	.byte 4,3,3,2,2,2,1,1,1,1,1,1,1,1,1,1
	.byte 4,3,3,3,2,2,2,2,1,1,1,1,1,1,1,1
	.byte 4,4,3,3,3,2,2,2,2,1,1,1,1,1,1,1
	.byte 4,4,3,3,3,2,2,2,2,2,2,1,1,1,1,1
	.byte 4,4,3,3,3,3,2,2,2,2,2,2,1,1,1,1
	.byte 4,4,3,3,3,3,3,2,2,2,2,2,2,2,1,1
	.byte 4,4,3,3,3,3,3,2,2,2,2,2,2,2,2,1
	.byte 4,4,4,3,3,3,3,3,2,2,2,2,2,2,2,2
	.byte 4,4,4,3,3,3,3,3,3,2,2,2,2,2,2,2
	.byte 4,4,4,3,3,3,3,3,3,2,2,2,2,2,2,2
	.byte 4,4,4,3,3,3,3,3,3,3,2,2,2,2,2,2
	.byte 4,4,4,3,3,3,3,3,3,3,3,2,2,2,2,2


	BottomRightLookup:

	.byte 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	.byte 4,6,7,7,7,7,8,8,8,8,8,8,8,8,8,8
	.byte 4,5,6,7,7,7,7,7,7,7,7,8,8,8,8,8
	.byte 4,5,5,6,6,7,7,7,7,7,7,7,7,7,7,7
	.byte 4,5,5,6,6,6,7,7,7,7,7,7,7,7,7,7
	.byte 4,5,5,5,6,6,6,6,7,7,7,7,7,7,7,7
	.byte 4,4,5,5,5,6,6,6,6,7,7,7,7,7,7,7
	.byte 4,4,5,5,5,6,6,6,6,6,6,7,7,7,7,7
	.byte 4,4,5,5,5,5,6,6,6,6,6,6,7,7,7,7
	.byte 4,4,5,5,5,5,5,6,6,6,6,6,6,6,7,7
	.byte 4,4,5,5,5,5,5,6,6,6,6,6,6,6,6,7
	.byte 4,4,4,5,5,5,5,5,6,6,6,6,6,6,6,6
	.byte 4,4,4,5,5,5,5,5,5,6,6,6,6,6,6,6
	.byte 4,4,4,5,5,5,5,5,5,6,6,6,6,6,6,6
	.byte 4,4,4,5,5,5,5,5,5,5,6,6,6,6,6,6
	.byte 4,4,4,5,5,5,5,5,5,5,5,6,6,6,6,6


	BottomLeftLookup:

	.byte 8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8
	.byte 12,10,9,9,9,9,8,8,8,8,8,8,8,8,8,8
	.byte 12,11,10,9,9,9,9,9,9,9,9,8,8,8,8,8
	.byte 12,11,11,10,10,9,9,9,9,9,9,9,9,9,9,9
	.byte 12,11,11,10,10,10,9,9,9,9,9,9,9,9,9,9
	.byte 12,11,11,11,10,10,10,10,9,9,9,9,9,9,9,9
	.byte 12,12,11,11,11,10,10,10,10,9,9,9,9,9,9,9
	.byte 12,12,11,11,11,10,10,10,10,10,10,9,9,9,9,9
	.byte 12,12,11,11,11,11,10,10,10,10,10,10,9,9,9,9
	.byte 12,12,11,11,11,11,11,10,10,10,10,10,10,10,9,9
	.byte 12,12,11,11,11,11,11,10,10,10,10,10,10,10,10,9
	.byte 12,12,12,11,11,11,11,11,10,10,10,10,10,10,10,10
	.byte 12,12,12,11,11,11,11,11,11,10,10,10,10,10,10,10
	.byte 12,12,12,11,11,11,11,11,11,10,10,10,10,10,10,10
	.byte 12,12,12,11,11,11,11,11,11,11,10,10,10,10,10,10
	.byte 12,12,12,11,11,11,11,11,11,11,11,10,10,10,10,10



	TopLeftLookup:

	.byte 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
	.byte 12,14,15,15,15,15,0,0,0,0,0,0,0,0,0,0
	.byte 12,13,14,15,15,15,15,15,15,15,15,0,0,0,0,0
	.byte 12,13,13,14,14,15,15,15,15,15,15,15,15,15,15,15
	.byte 12,13,13,14,14,14,15,15,15,15,15,15,15,15,15,15
	.byte 12,13,13,13,14,14,14,14,15,15,15,15,15,15,15,15
	.byte 12,12,13,13,13,14,14,14,14,15,15,15,15,15,15,15
	.byte 12,12,13,13,13,14,14,14,14,14,14,15,15,15,15,15
	.byte 12,12,13,13,13,13,14,14,14,14,14,14,15,15,15,15
	.byte 12,12,13,13,13,13,13,14,14,14,14,14,14,14,15,15
	.byte 12,12,13,13,13,13,13,14,14,14,14,14,14,14,14,15
	.byte 12,12,12,13,13,13,13,13,14,14,14,14,14,14,14,14
	.byte 12,12,12,13,13,13,13,13,13,14,14,14,14,14,14,14
	.byte 12,12,12,13,13,13,13,13,13,14,14,14,14,14,14,14
	.byte 12,12,12,13,13,13,13,13,13,13,14,14,14,14,14,14
	.byte 12,12,12,13,13,13,13,13,13,13,13,14,14,14,14,14


	SpriteLookupX:	.fill 27, 24 + (i * 8)
	SpriteLookupY:	.fill 19, 50 + (i * 8)
	
	SpriteX_LSB:
		.fill MAX_SPRITES, 0
	TargetSpriteX:
		.fill MAX_SPRITES, 0
	TargetSpriteY:
		.fill MAX_SPRITES, 0
	SpriteY_LSB:
		.fill MAX_SPRITES, 0

	PathID:
		.fill MAX_SPRITES, 0


